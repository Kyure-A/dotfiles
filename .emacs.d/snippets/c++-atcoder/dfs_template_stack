# -*- mode: snippet -*-
# name: dfs_template_stack
# key: dfs
# --

// 1-indexed

vector<bool> seen(n + 1, false); // -1 の場合は未訪問
stack<int> stk; // last in first out

seen[1] = true; stk.emplace(1); // 初期化

// Start
while (!stk.empty())
{
    auto v = stk.top(); stk.pop(); // v に実質的に stack の一番上を移動

    // v に隣接している頂点をすべて調べる
    for (auto near_v : ${1:graph[v]})
    {
        if (seen[near_v]) continue; 
        
	seen[near_v] = true;
        stk.emplace(near_v); // 次に訪れるために追加する
    }
}